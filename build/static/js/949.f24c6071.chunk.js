"use strict";(self.webpackChunkipo_dekho=self.webpackChunkipo_dekho||[]).push([[949],{3968:function(e,n,a){a(2791);n.Z=a.p+"static/media/blank-image.3cd241581e7e6716bcc5f1e0be9a8bf0.svg"},8022:function(e,n,a){a(2791);var t=a(184);n.Z=function(e){var n=e.children;return(0,t.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,t.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:n})})}},5940:function(e,n,a){a(2791);var t=a(184);n.Z=function(e){var n=e.title;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{id:"kt_app_toolbar",class:"app-toolbar py-3 py-lg-6",children:(0,t.jsx)("div",{id:"kt_app_toolbar_container",class:"app-container container-xxl d-flex flex-stack",children:(0,t.jsx)("div",{class:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,t.jsx)("h1",{class:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:n})})})})})}},407:function(e,n,a){a.d(n,{q:function(){return t}});var t={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]}},2949:function(e,n,a){a.r(n);var t=a(9439),i=a(5705),l=a(2791),s=a(6770),o=a.n(s),d=a(7689),c=a(1087),r=a(407),u=a(9513),p=a.n(u),m=a(9434),v=a(1258),x=a(8022),f=a(5940),b=a(3968),h=a(184);n.default=function(){var e,n,a,s,u=(0,d.TH)().state,g=(0,m.I0)(),j=new FormData,y=new FormData,w=/image\/(png|jpg|jpeg)/i,N=(0,l.useState)(null),k=(0,t.Z)(N,2),C=k[0],D=k[1],_=(0,l.useState)(null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.file),T=(0,t.Z)(_,2),F=T[0],Z=T[1];console.log(u.type);var S=function(e){var n=e.target.files[0];n.type.match(w)?D(n):alert("Image mime type is not valid")};(0,l.useEffect)((function(){var e,n=!1;return C&&((e=new FileReader).onload=function(e){var a=e.target.result;a&&!n&&Z(a)},e.readAsDataURL(C)),function(){n=!0,e&&1===e.readyState&&e.abort()}}),[C]);var E=function(e){var n=e.name,a=e.value,t=e.onChange;return(0,h.jsx)(p(),{selected:a&&new Date(a)||null,className:"form-control",dateFormat:"MMM d, yyyy",onChange:function(e){t(n,e)}})},I=function(){D(""),Z("")};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.Z,{title:"newsEdit"===u.type?"News Edit":"News Add"}),(0,h.jsx)(x.Z,{children:(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(i.J9,{enableReinitialize:!0,initialValues:"newsEdit"===u.type?{Content:null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.Content,Title:null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.Title,newsDate:null===u||void 0===u||null===(s=u.data)||void 0===s?void 0:s.newsDate}:{Content:"",Title:"",newsDate:""},onSubmit:function(e){return function(e){if(j.append("Content",null===e||void 0===e?void 0:e.Content),j.append("Title",null===e||void 0===e?void 0:e.Title),j.append("Date",null===e||void 0===e?void 0:e.newsDate),j.append("file",C),"newsEdit"===u.type){var n,a,t={id:null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.id,Content:null===e||void 0===e?void 0:e.Content,Title:null===e||void 0===e?void 0:e.Title,Date:null===e||void 0===e?void 0:e.newsDate};y.append("file",C);var i={payload:y,payloadId:{id:null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.id}};g((0,v.r3)({payloadImage:i})),g((0,v.jB)({payload:t}))}else{var l=j;g((0,v.zX)({payload:l}))}}(e)},children:function(e){var n=e.values,a=e.setFieldValue;return(0,h.jsxs)(i.l0,{children:[(0,h.jsx)("label",{className:"form-label d-block",children:"News Image"}),(0,h.jsxs)("div",{className:"image-input image-input-empty image-input-outline image-input-placeholder mb-3","data-kt-image-input":"true",style:{position:"relative"},children:[(0,h.jsx)("div",{style:{backgroundSize:"contain",backgroundPosition:"center"},children:(0,h.jsx)("img",{className:"image-input-wrapper w-400px h-400px",src:F||b.Z,alt:"preview"})}),(0,h.jsxs)("label",{htmlFor:"image","data-kt-image-input-action":"change",className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:[(0,h.jsx)("i",{className:"bi bi-pencil-fill fs-7"}),(0,h.jsx)("input",{name:"file",type:"file",id:"image",onChange:S,hidden:!0,accept:".png, .jpg, .jpeg"})]}),F&&(0,h.jsx)("div",{style:{position:"absolute",right:"-12px",bottom:"-12px"},onClick:I,className:"btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow",children:(0,h.jsx)("i",{class:"bi bi-x fs-2"})})]}),(0,h.jsx)("div",{className:"text-muted fs-7",children:"Set the News image. Only *.png, *.jpg and *.jpeg image files are accepted"}),(0,h.jsxs)("div",{className:"w-100 fv-row mt-10",children:[(0,h.jsx)("label",{className:"form-label",children:"Date"}),(0,h.jsx)(E,{name:"newsDate",className:"form-control mb-2",value:null===n||void 0===n?void 0:n.newsDate,onChange:a})]}),(0,h.jsxs)("div",{className:"w-100 fv-row mt-10",children:[(0,h.jsx)("label",{className:"form-label",children:"Title"}),(0,h.jsx)(i.gN,{name:"Title",type:"text",className:"form-control mb-2"})]}),(0,h.jsxs)("div",{className:"mt-10",children:[(0,h.jsx)("label",{className:"form-label",children:"Content"}),(0,h.jsx)(i.gN,{name:"Content",children:function(e){var n=e.field;return(0,h.jsx)(o(),{className:"min-h-500px h-500px mb-2",modules:r.q,value:n.value,onChange:n.onChange(n.name)})}})]}),(0,h.jsxs)("div",{className:"d-flex justify-content-end mt-15",children:[(0,h.jsx)(c.rU,{to:"/news",className:"btn btn-light me-5",children:"Back to List"}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})}})})})})]})}}}]);
//# sourceMappingURL=949.f24c6071.chunk.js.map